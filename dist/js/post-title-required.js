jQuery(function(e){try{var n=data_obj.ptreq_character_limit}catch{var n=100}let l=e('input[name="post_title"]');l.length?p(l):a();function p(i){i.prop("required",!0),i.on("input",function(){var t=i.val().length;if(t>n){var r=i.val().substring(0,n);i.val(r),e("#title_limit_warning").remove(),e("#titlewrap").append('<div id="title_limit_warning" class="notice notice-warning is-dismissible"><p>Title character limit is '+n+'</p><button type="button" class="notice-dismiss"><span class="screen-reader-text">Dismiss this notice.</span></button></div>'),e("#title_limit_warning button").on("click",function(){e("#title_limit_warning").remove()})}})}function a(){let i=setInterval(function(){let t=e(".editor-header__settings button.editor-post-publish-button__button ");t.length&&(clearInterval(i),u(t),d())},1e3)}function u(i){i.on("click",function(t){let r=e(".editor-visual-editor__post-title-wrapper h1").text(),s=r.length;if(r.trim()===""){let c=o("Title is empty. Plese fill it out.");return e(".wp-title-check-required").remove(),e(".interface-navigable-region .components-notice-list.components-editor-notices__dismissible").append(c),document.querySelector(".wp-title-check-required").scrollIntoView(),t.stopPropagation(),t.preventDefault(),!1}else if(s>n){let c=o("Title character limit is "+n);return e(".wp-title-check-required").remove(),e(".interface-navigable-region .components-notice-list.components-editor-notices__dismissible").append(c),document.querySelector(".wp-title-check-required").scrollIntoView(),t.stopPropagation(),t.preventDefault(),e(window).scrollTop(0),!1}else e(".wp-title-check-required").remove();e(".wp-title-check-required button").on("click",function(){e(".wp-title-check-required").remove()})})}function d(){e(".editor-visual-editor__post-title-wrapper h1").on("input",function(){if(e(".editor-visual-editor__post-title-wrapper h1").text().length>n){let r=o("Title character limit is "+n);e(".wp-title-check-required").remove(),e(".interface-navigable-region .components-notice-list.components-editor-notices__dismissible").append(r)}else e(".wp-title-check-required").remove()})}function o(i){return'<div class="components-notice is-warning is-dismissible wp-title-check-required"><div class="components-notice__content">'+i+'</div><button type="button" class="components-button components-notice__dismiss has-icon" aria-label="Close"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" focusable="false"><path d="M13 11.8l6.1-6.3-1-1-6.1 6.2-6.1-6.2-1 1 6.1 6.3-6.5 6.7 1 1 6.5-6.6 6.5 6.6 1-1z"></path></svg></button></div>'}e(".row-actions button.editinline").on("click",function(){e(".requird-identify").remove(),e(".title-required .title").append('<span class="requird-identify" style="color: #f00;">*</span>');var i=setInterval(function(){var t=e('.inline-edit-col input[name="post_title"]');t.length&&(clearInterval(i),t.prop("required",!0),t.parent().parent().addClass("title-required"),t.val().length===0&&e(".submit button.save").prop("disabled",!0))},100);l.on("input",function(){var t=e('.inline-edit-col input[name="post_title"]'),r=t.val().length;if(r===0)e(".submit button.save").prop("disabled",!0),e(".wp-title-check-required").remove(),e(".title-required .input-text-wrap").append('<span class="wp-title-check-required" style="color: #f00;"> Title is required </span>');else if(r>n){var s=t.val().substring(0,n);t.val(s),e(".submit button.save").prop("disabled",!0),e(".wp-title-check-required").remove(),e(".title-required .input-text-wrap").append('<span class="wp-title-check-required" style="color: #f00;"> Title character limit is '+n+"</span>")}else e(".submit button.save").prop("disabled",!1),e(".wp-title-check-required").remove()})})});
